# Fair Data Society Registry

The code in this repo allows to maintain a file in a [FairOS](https://github.com/fairDataSociety/fairOS-dfs) decentralized storage, that is used to generate a static page with a browsable list of items.

Specifically, the items being references to data stored in decentralized storage.

An example of a Directory generated by the process is located at: [https://directory.fairdatasociety.org/](https://directory.fairdatasociety.org/)
With a registry reference of `5bb2cd9d685a7d98866eb00782a29ec9e8d0384210b455497c29382e85493edc`.

You can view the file content with site above or manually by receiving all actual content with FairOS
command `pod receive 5bb2cd9d685a7d98866eb00782a29ec9e8d0384210b455497c29382e85493edc`

### How it works?

A FairOS user is run by an organization. This user creates a FairOS pod and puts files.json inside it. The file contains a list
of references to files / data from other providers. All of these files are stored in Swarm using FairOS. Knowing the reference file, any user can download it to their computer.

### Registry management

```
cd cmd
yarn
cp example.env .env
```

Fill .env file with your credentials.

Upload file updates with this command

`node upload.js`

Download latest updates

`node download.js`

Registry list structure

```js
[
    {
        "key": "Top directory/Sub directory/file.png",
        "size": 1572864, // bytes
        "reference-type": "fairos-dfs", // fairos-dfs or swarm
        "reference": "e3f8008136cae4550bf14dbf62640e7011a92bfeabfb36b736c684c98f3999301639402745",
        "license-information": "", // optional
        "description": ""
    }
]
```
